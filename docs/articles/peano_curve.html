<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generalized Peano Curve • sfcurve</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Generalized Peano Curve">
<meta property="og:description" content="sfcurve">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sfcurve</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.99.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/hilbert_curve.html">Generalized Hilbert Curve</a>
    </li>
    <li>
      <a href="../articles/peano_curve.html">Generalized Peano Curve</a>
    </li>
    <li>
      <a href="../articles/meander_curve.html">Generalized Meander Curve</a>
    </li>
    <li>
      <a href="../articles/all_3x3_curve.html">3x3 Curve</a>
    </li>
    <li>
      <a href="../articles/standard_curves.html">Standard curves</a>
    </li>
    <li>
      <a href="../articles/h_curve.html">H-Curve</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jokergoo/sfcurve/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Generalized Peano Curve</h1>
                        <h4 data-toc-skip class="author">Zuguang Gu (<a href="mailto:z.gu@dkfz.de" class="email">z.gu@dkfz.de</a>)</h4>
            
            <h4 data-toc-skip class="date">2024-07-23</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jokergoo/sfcurve/blob/HEAD/vignettes/peano_curve.Rmd" class="external-link"><code>vignettes/peano_curve.Rmd</code></a></small>
      <div class="hidden name"><code>peano_curve.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="base-patterns">Base patterns<a class="anchor" aria-label="anchor" href="#base-patterns"></a>
</h2>
<p>There are the following expansion rules from level-0 to level-1 for the Peanno curve.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/draw_rules.html">draw_rules_peano</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="peano_curve_files/figure-html/unnamed-chunk-2-1.png" width="432" style="display: block; margin: auto;"></p>
<p><code>I</code> and <code>J</code> are the same on level-0 (i.e. going forward), but they correspond to different patterns on level-1 as we only allow a pattern to rotate, but not to flip. Also separating <code>I</code> from <code>J</code> makes only one extension from level-0 to level-1 for each base pattern.</p>
<p>Unlike the Hilbert curve where there are more than one transverse paths. For the Peano curve, we can simpliy specify the number of the level.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">=</span> <span class="fu"><a href="../reference/spacefilling.html">sfc_peano</a></span><span class="op">(</span><span class="st">"I"</span>, level <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co"># the same as sfc_peano("I", code = "111")</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
<p><img src="peano_curve_files/figure-html/unnamed-chunk-3-1.png" width="700" style="display: block; margin: auto;"></p>
<p>By applying the expansion rules, a Peano curve is fixed on a level <span class="math inline">\(k\)</span>. However, note each level-1 or level-<span class="math inline">\(k\)</span> (<span class="math inline">\(k \ge 1\)</span>) pattern can be flipped against its diagonal line without affecting the structure of other parts in the curve. Then we can have a flipped version of the original expansion rules:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/draw_rules.html">draw_rules_peano</a></span><span class="op">(</span>flip <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="peano_curve_files/figure-html/unnamed-chunk-4-1.png" width="432" style="display: block; margin: auto;"></p>
<p>Then, for example, when expanding <span class="math inline">\(I^{(0)}\)</span> to <span class="math inline">\(I^{(1)} = RI^{(270)}L^{(270)}LJ^{(90)}R^{(90)}RI^{(270)}L^{(270)}\)</span>, each base pattern can take its flipped version independently.</p>
</div>
<div class="section level2">
<h2 id="number-of-different-forms">Number of different forms<a class="anchor" aria-label="anchor" href="#number-of-different-forms"></a>
</h2>
<p>From level 0 to level 1, there are two different forms: the normal one and the flipped one:</p>
<p><span class="math display">\[
n_1 = 2
\]</span></p>
<p>From level 1 to level 2, all the nine points can be expanded by choosing the normal base pattern or the flipped one. The global unit on level 2 can also be in the normal form or the flipped form.</p>
<p><span class="math display">\[
n_2 = n_1^9 \cdot 2
\]</span></p>
<p>Then we can have sequentially:</p>
<p><span class="math display">\[
\begin{align*}
n_3 &amp;= n_2^9 \cdot 2 \\
    &amp; ... \\
n_k &amp;= n_{k-1}^9 \cdot 2 \\
\end{align*}
\]</span></p>
<p>And <span class="math inline">\(n_k\)</span> can be calculated as:</p>
<p><span class="math display">\[
n_k = 2^{9^{k-1} + ... + 9 + 1} = 2^{\frac{9^k - 1}{8}}
\]</span></p>
<p>Or we can also count the total number of square units on various levels. For a curve with level <span class="math inline">\(k\)</span>, the number of square unit with level <span class="math inline">\(i\)</span> is <span class="math inline">\(9^{k-i}\)</span>. Then we sum these numbers from level <span class="math inline">\(k\)</span> to level 1:</p>
<p><span class="math display">\[
\sum_{i=1}^{k} 9^{k-i} = \frac{9^k - 1}{8}
\]</span></p>
<p>Each unit on various levels all can be flipped independently. The final number of different forms of the Peano curve on level <span class="math inline">\(k\)</span> is:</p>
<p><span class="math display">\[
n_k = 2^{\frac{9^k - 1}{8}}
\]</span></p>
<p>With combining the four base patterns and four rotations, the final number of different forms of the Peano curve is</p>
<p><span class="math display">\[
4 \cdot 4 \cdot 2^{\frac{9^k - 1}{8}}
\]</span></p>
</div>
<div class="section level2">
<h2 id="flipping">Flipping<a class="anchor" aria-label="anchor" href="#flipping"></a>
</h2>
<p>We can set a global flipping rule on every level of expansion.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spacefilling.html">sfc_peano</a></span><span class="op">(</span><span class="st">"I"</span>, level <span class="op">=</span> <span class="fl">3</span>, </span>
<span>    flip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="peano_curve_files/figure-html/unnamed-chunk-5-1.png" width="700" style="display: block; margin: auto;"></p>
<p>Every unit can be manually flipped by specifying its “hierarchical index”. Here “93” means the third level-1 subunit of the 9th level-2 subunit. Notice the orientation of the top-left corner of the top-right block in the right plot.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/draw_multiple_curves.html">draw_multiple_curves</a></span><span class="op">(</span></span>
<span>    <span class="va">p</span>,</span>
<span>    <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="va">p</span>, <span class="st">"93"</span><span class="op">)</span>,</span>
<span>    title <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="peano_curve_files/figure-html/unnamed-chunk-6-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="the-standard-peano-curve">The standard Peano curve<a class="anchor" aria-label="anchor" href="#the-standard-peano-curve"></a>
</h2>
<p>There are two ways to generate the standard Peano curve where all level-1 (9x9) unit are oriented vertically.</p>
<p>First, notice taking the normal expansion rules, if splitting the curves into three parts euqally, the first subunit in the second and the third parts are flipped. Then we just need to flipped these two back. Note such flipping should be applied on all levels.</p>
<p>In the following, <code>flip</code> can be set to a function accepting an argumnt <code>n</code> which is the number of base patterns on current level in the expansion. The self-defined function returns a logical vector with the same length as <code>n</code>, representing whether using the flipped rules.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/spacefilling.html">sfc_peano</a></span><span class="op">(</span><span class="st">"I"</span>, level <span class="op">=</span> <span class="fl">3</span>, flip <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span><span class="op">(</span><span class="va">n</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="va">l</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="va">n</span><span class="op">)</span></span>
<span>    <span class="va">portion</span> <span class="op">=</span> <span class="fl">1</span></span>
<span>    <span class="kw">while</span><span class="op">(</span><span class="va">portion</span><span class="op">*</span><span class="fl">9</span> <span class="op">&lt;=</span> <span class="va">n</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">ind</span> <span class="op">=</span> <span class="op">(</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="va">n</span><span class="op">/</span><span class="fl">3</span><span class="op">/</span><span class="va">portion</span><span class="op">)</span><span class="op">)</span><span class="op">*</span><span class="fl">3</span><span class="op">*</span><span class="va">portion</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, <span class="va">n</span><span class="op">/</span><span class="fl">9</span><span class="op">/</span><span class="va">portion</span><span class="op">)</span><span class="op">]</span></span>
<span>        <span class="va">l</span><span class="op">[</span><span class="va">ind</span> <span class="op">+</span> <span class="fl">1</span><span class="op">]</span> <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>        <span class="va">portion</span> <span class="op">=</span> <span class="va">portion</span><span class="op">*</span><span class="fl">9</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="va">l</span></span>
<span><span class="op">}</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="peano_curve_files/figure-html/unnamed-chunk-7-1.png" width="700" style="display: block; margin: auto;"></p>
<p>Second, we can mandatorily change all level-1 units to vertical. <code><a href="../reference/sfc_apply.html">sfc_apply()</a></code> applied a self-defined function <code>fun</code> on every units on a certain level (in the following example, it is applied to level <code>sfc_level(p)-1</code>). The self-defined function accepts one argument <code>x</code> which is the current subunit.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/sfc_apply.html">sfc_apply</a></span><span class="op">(</span><span class="va">p</span>, <span class="fu"><a href="../reference/sfc_level.html">sfc_level</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="../reference/level1_unit.html">level1_unit_orientation</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">==</span> <span class="st">"horizontal"</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">x</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="peano_curve_files/figure-html/unnamed-chunk-8-1.png" width="700" style="display: block; margin: auto;"></p>
<p>Or use the helper function <code><a href="../reference/level1_unit.html">change_level1_unit_orientation()</a></code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/level1_unit.html">change_level1_unit_orientation</a></span><span class="op">(</span><span class="va">p</span>, to <span class="op">=</span> <span class="st">"vertical"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="peano_curve_files/figure-html/unnamed-chunk-9-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="general-peano-curve">General Peano curve<a class="anchor" aria-label="anchor" href="#general-peano-curve"></a>
</h2>
<p>For the curve on level <span class="math inline">\(k\)</span>, the subunits, higher levels can be randomly flippped, while only make sure all the level-1 subunit are vertical.</p>
<p><code>p</code> can be a level-<span class="math inline">\(k\)</span> curve with subunits on any level flipped.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p2</span> <span class="op">=</span> <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="va">p</span>, <span class="st">""</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="st">"7"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="../reference/level1_unit.html">change_level1_unit_orientation</a></span><span class="op">(</span>to <span class="op">=</span> <span class="st">"vertical"</span><span class="op">)</span></span>
<span><span class="va">p3</span> <span class="op">=</span> <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="va">p</span>, <span class="st">"1"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>     <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="st">"2"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>     <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="st">"3"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>     <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="st">"4"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>     <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="st">"5"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>     <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="st">"6"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>     <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="st">"7"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>     <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="st">"8"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>     <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="st">"9"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>     <span class="fu"><a href="../reference/level1_unit.html">change_level1_unit_orientation</a></span><span class="op">(</span>to <span class="op">=</span> <span class="st">"vertical"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/draw_multiple_curves.html">draw_multiple_curves</a></span><span class="op">(</span><span class="va">p</span>, <span class="va">p2</span>, <span class="va">p3</span>, </span>
<span>    nrow <span class="op">=</span> <span class="fl">1</span>, title <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="peano_curve_files/figure-html/unnamed-chunk-10-1.png" width="720" style="display: block; margin: auto;"></p>
<p>We can also do from <span class="math inline">\(k-1\)</span> level, i.e. generate an curve on <span class="math inline">\(k-1\)</span> of any form, extend it to level <span class="math inline">\(k\)</span> and adjust all level-1 units to vertical.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p2</span> <span class="op">=</span> <span class="fu"><a href="../reference/spacefilling.html">sfc_peano</a></span><span class="op">(</span><span class="st">"I"</span>, level <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/sfc_expand.html">sfc_expand</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span> <span class="op">|&gt;</span>  <span class="co"># expand from level 2 to level 3</span></span>
<span>    <span class="fu"><a href="../reference/level1_unit.html">change_level1_unit_orientation</a></span><span class="op">(</span>to <span class="op">=</span> <span class="st">"vertical"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="peano_curve_files/figure-html/unnamed-chunk-11-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="other-structures">Other structures<a class="anchor" aria-label="anchor" href="#other-structures"></a>
</h2>
<p>By manually flipping the units on various level, we can generate more patterns. For example, in the following 9 blocks, we let the even blocks to be all vertical and odd blocks to be all horizontal. Here the self-defined function can accepts a second argument which is the index of the current unit.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p2</span> <span class="op">=</span> <span class="fu"><a href="../reference/level1_unit.html">change_level1_unit_orientation</a></span><span class="op">(</span><span class="va">p</span>, to <span class="op">=</span> <span class="st">"vertical"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/sfc_apply.html">sfc_apply</a></span><span class="op">(</span><span class="va">p2</span>, <span class="fu"><a href="../reference/sfc_level.html">sfc_level</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span> <span class="op">-</span> <span class="fl">2</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span><span class="op">(</span><span class="va">i</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="fu"><a href="../reference/sfc_index.html">sfc_flip_unit</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">x</span></span>
<span>    <span class="op">}</span></span>
<span><span class="op">}</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="peano_curve_files/figure-html/unnamed-chunk-12-1.png" width="700" style="display: block; margin: auto;"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Zuguang Gu.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  <style>nav[data-toggle='toc'] .nav .nav {display: block;}</style>
</body>
</html>
